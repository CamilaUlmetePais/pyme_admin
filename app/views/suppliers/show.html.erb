<div class="m-3">
	<h1 class="text-4xl font-medium"><%= @supplier.name %></h1>

	<div class="my-2 mr-6 inline-block">
    <span class="font-medium uppercase text-sm"><%= I18n.t('activerecord.attributes.suppliers.phone_number') %>:  </span>
    <%= @supplier.phone_number %>
  </div>

  <div class="my-2 mr-6 inline-block">
    <span class="font-medium uppercase text-sm"><%= I18n.t('activerecord.attributes.suppliers.account_balance') %>:  </span>
    <%= number_with_precision(@supplier.account_balance, strip_insignificant_zeros: true) %>
  </div>
  
  <div class="mt-4 mr-6 inline-block">
    <span class="font-medium uppercase text-sm">
      <%= I18n.t('activerecord.attributes.suppliers.notification_threshold') %>:  
    </span>
    <%= number_with_precision(@supplier.notification_threshold, strip_insignificant_zeros: true) %>
  </div>
	

  <div class="grid grid-cols-12 m-4">
		<div class="col-span-10 md:col-span-4 xl:col-span-2">
			<button type="button" class="p-3 bg-white hover:bg-gray-100 border border-gray-400 rounded-md shadow-sm font-medium">
				<%= link_to I18n.t('helpers.buttons.back'), suppliers_path %>
			</button>
		</div>
		<div class="col-span-2 md:col-span-6">
			<button type="button" class="m-1 p-3 bg-green-600 hover:bg-green-700 rounded-md shadow-sm text-white">
				<%= link_to I18n.t('helpers.buttons.edit'), edit_supplier_path(@supplier) %>
			</button>
		</div>
	</div>

	<h4 class="text-2xl font-medium mb-3"><%= I18n.t('views.body.show.history') %></h4>

  <div class="flex w-7/8 p-2 m-2 bg-gray-200 border border-solid border-gray-300 rounded-md text-sm">
    <%# simple_form_for(:supplier, html: {class: "inline-flex flex-wrap items-center w-full justify-between"}, url: supplier_path(@supplier), method: :get) do |f| %>
      <%# f.error_notification %>
      <div class="p-1 font-medium text-md">
        <h5><%= I18n.t('helpers.search.by_date') %></h5>
      </div>
      <div class="p-1 place-self-center">
        <%# f.input :created_at_from, id: 'created_at_from', placeholder: I18n.t('helpers.search.from'), label_html: {class: "pr-1 text-xs xl:text-md"}, input_html: {class: "rounded-md border-gray-400 w-36"} %>
      </div>
      <div class="p-1 place-self-center">
        <%# f.input :created_at_to, id: 'created_at_to', placeholder: I18n.t('helpers.search.to'), label_html: {class: "pr-1 text-xs xl:text-md"}, input_html: {class: "rounded-md border-gray-400 w-36"} %>
      </div>
      <div class="p-1 self-end">
        <%# f.button :submit, I18n.t('helpers.buttons.search'), class: "p-2.5 bg-blue-500 hover:bg-blue-600 rounded-md shadow-sm font-medium text-white" %>
      </div>
    <%# end %>
  </div>

  <table class="table-auto w-7/8 p-1">
    <thead>
      <tr class="border border-gray-200 bg-gray-200 text-center text-sm text-gray-600 uppercase">
        <th class="p-3"><%= I18n.t('activerecord.attributes.outflows.total') %></th>
        <th class="p-3"><%= I18n.t('activerecord.attributes.outflows.paid') %></th>
        <th class="p-3"><%= I18n.t('activerecord.attributes.outflows.items') %></th>
        <th class="p-3"><%= I18n.t('views.body.show.date') %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @transactions.each do |outflow| %>
        <tr class="border border-gray-200 bg-gray-100 hover:bg-gray-200 text-sm md:text-md text-center">
          <td class="text-center">$<%= number_with_precision(outflow.total, strip_insignificant_zeros: true) %></td>
          <td class="text-center">$<%= number_with_precision(outflow.paid, strip_insignificant_zeros: true) %></td>
          <td class="text-center"><% outflow.items.each do |item| %>
                <span class="inline-block m-1 px-2 py-1 bg-sky-300 rounded-md shadow-sm"><%= item.list %></span>
              <% end %>
          </td>
          <td class="text-center"><%= I18n.l(outflow.created_at, format: :short) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= paginate @transactions %>
  <br>
</div>

<!-- script>
  $( function() {
    $( "#supplier_created_at_from" ).datepicker();
    $( "#supplier_created_at_to" ).datepicker();
  } );
</script -->